<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.88.1" />
<link rel="alternate" type="application/rss&#43;xml" href="http://example.org/docs/ioredis/index.xml">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>ioredis | redis-docs</title>
<meta name="description" content="
https://github.com/luin/ioredis










A robust, performance-focused and full-featured Redis client for Node.js.
Supports Redis &gt;= 2.6.12 and …">
<meta property="og:title" content="ioredis" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/docs/ioredis/" />

<meta itemprop="name" content="ioredis">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ioredis"/>
<meta name="twitter:description" content=""/>




<link rel="preload" href="/scss/main.scss" as="style">
<link href="/scss/main.scss" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">redis-docs</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/" ><span class="active">文档</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/blog/" ><span>博客</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">文档</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docslua-li">
  <a href="/docs/lua/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docslua"><span class="">lua</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluaabout-li">
  <a href="/docs/lua/about/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsluaabout"><span class="">关于</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluamanual-li">
  <a href="/docs/lua/manual/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsluamanual"><span class="">参考手册</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluastart-li">
  <a href="/docs/lua/start/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsluastart"><span class="">入门</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluadownload-li">
  <a href="/docs/lua/download/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsluadownload"><span class="">下载</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluadocs-li">
  <a href="/docs/lua/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsluadocs"><span class="">文档</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsluacommunity-li">
  <a href="/docs/lua/community/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsluacommunity"><span class="">社区</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsredlock-li">
  <a href="/docs/redlock/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsredlock"><span class="">Redis 锁</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsredlocknode-redlock-li">
  <a href="/docs/redlock/node-redlock/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsredlocknode-redlock"><span class="">Node Redlock</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsredlocknode-redlock5-li">
  <a href="/docs/redlock/node-redlock5/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsredlocknode-redlock5"><span class="">Node Redlock5</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsredlocknode-redlock5api-li">
  <a href="/docs/redlock/node-redlock5.api/" title="Node Redlock5 API" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsredlocknode-redlock5api"><span class="">Node Redlock5 接口</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsredlockwarlock-li">
  <a href="/docs/redlock/warlock/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsredlockwarlock"><span class="">warlock</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsioredis-li">
  <a href="/docs/ioredis/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__section" id="m-docsioredis"><span class="td-sidebar-nav-active-item">ioredis</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredisquick-start-li">
  <a href="/docs/ioredis/quick-start/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredisquick-start"><span class="">快速入门</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredisconnection-li">
  <a href="/docs/ioredis/connection/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredisconnection"><span class="">连接</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredistls-li">
  <a href="/docs/ioredis/tls/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredistls"><span class="">TLS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredisstreams-li">
  <a href="/docs/ioredis/streams/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredisstreams"><span class="">流和二进制</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredislua-li">
  <a href="/docs/ioredis/lua/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredislua"><span class="">Lua 脚本</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredispipelining-li">
  <a href="/docs/ioredis/pipelining/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredispipelining"><span class="">Pipelining</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredispub-sub-li">
  <a href="/docs/ioredis/pub-sub/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredispub-sub"><span class="">Pub/Sub</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsioredissentinel-li">
  <a href="/docs/ioredis/sentinel/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsioredissentinel"><span class="">Sentinel</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsiorediscluster-li">
  <a href="/docs/ioredis/cluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsiorediscluster"><span class="">Cluster</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#特性">特性</a></li>
    <li><a href="#链接">链接</a></li>
    <li><a href="#赞助商">赞助商</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#错误处理">错误处理</a></li>
    <li><a href="#插入你自己的承诺库">插入你自己的承诺库</a></li>
    <li><a href="#运行测试">运行测试</a></li>
    <li><a href="#调试">调试</a></li>
    <li><a href="#加入">加入!</a></li>
    <li><a href="#成为一个赞助商">成为一个赞助商</a></li>
    <li><a href="#贡献者">贡献者</a></li>
    <li><a href="#许可证">许可证</a></li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb spb-1">
  <li class="breadcrumb-item">
    <a href="http://example.org/docs/">文档</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="http://example.org/docs/ioredis/">ioredis</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>ioredis</h1>
  
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>
	<blockquote>
<p><a href="https://github.com/luin/ioredis">https://github.com/luin/ioredis</a></p>
</blockquote>
<p><a href="https://github.com/luin/ioredis"><img src="https://cdn.jsdelivr.net/gh/luin/ioredis@b5e8c74/logo.svg" alt="ioredis"></a></p>
<p><a href="https://travis-ci.org/luin/ioredis"><img src="https://travis-ci.org/luin/ioredis.svg?branch=master" alt="Build Status"></a>
<a href="https://github.com/prettier/prettier"><img src="https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square" alt="code style: prettier"></a>
<a href="https://gitter.im/luin/ioredis?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/luin/ioredis"></a>
<a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg" alt="Commitizen friendly"></a>
<a href="https://github.com/semantic-release/semantic-release"><img src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a>
<a href="https://www.npmjs.com/package/ioredis"><img src="https://img.shields.io/npm/v/ioredis/latest.svg" alt="npm latest version"></a>
<a href="https://www.npmjs.com/package/ioredis"><img src="https://img.shields.io/npm/v/ioredis/next.svg" alt="npm next version"></a>
<!-- raw HTML omitted --></p>
<p>A robust, performance-focused and full-featured <a href="http://redis.io">Redis</a> client for <a href="https://nodejs.org">Node.js</a>.</p>
<p>Supports Redis &gt;= 2.6.12 and (Node.js &gt;= 6). Completely compatible with Redis 6.x.</p>
<h2 id="特性">特性</h2>
<p>ioredis is a robust, full-featured Redis client that is
used in the world&rsquo;s biggest online commerce company <a href="http://www.alibaba.com/">Alibaba</a> and many other awesome companies.</p>
<ol start="0">
<li>Full-featured. It supports <a href="http://redis.io/topics/cluster-tutorial">Cluster</a>, <a href="http://redis.io/topics/sentinel">Sentinel</a>, <a href="https://redis.io/topics/streams-intro">Streams</a>, <a href="http://redis.io/topics/pipelining">Pipelining</a> and of course <a href="http://redis.io/commands/eval">Lua scripting</a> &amp; <a href="http://redis.io/topics/pubsub">Pub/Sub</a> (with the support of binary messages).</li>
<li>High performance.</li>
<li>Delightful API. It works with Node callbacks and Native promises.</li>
<li>Transformation of command arguments and replies.</li>
<li>Transparent key prefixing.</li>
<li>Abstraction for Lua scripting, allowing you to define custom commands.</li>
<li>Support for binary data.</li>
<li>Support for TLS 🔒.</li>
<li>Support for offline queue and ready checking.</li>
<li>Support for ES6 types, such as <code>Map</code> and <code>Set</code>.</li>
<li>Support for GEO commands 📍.</li>
<li>Support for Redis ACL.</li>
<li>Sophisticated error handling strategy.</li>
<li>Support for NAT mapping.</li>
<li>Support for autopipelining</li>
</ol>
<h2 id="链接">链接</h2>
<ul>
<li><a href="API.md">API Documentation</a></li>
<li><a href="Changelog.md">Changelog</a></li>
<li><a href="https://github.com/luin/ioredis/wiki/Migrating-from-node_redis">Migrating from node_redis</a></li>
<li><a href="#error-handling">Error Handling</a></li>
</ul>
<!-- raw HTML omitted -->
<h2 id="赞助商">赞助商</h2>
<p><!-- raw HTML omitted -->Become a sponsor!<!-- raw HTML omitted --></p>
<h4 id="upstash-serverless-database-for-redis">Upstash: Serverless Database for Redis</h4>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Upstash is a Serverless Database with Redis/REST API and durable storage. It is the perfect database for your applications thanks to its per request pricing and low latency data.</p>
<p><a href="https://upstash.com/?utm_source=ioredis">Start for free in 30 seconds! </a></p>
<!-- raw HTML omitted -->
<h4 id="medis-redis-gui-for-macos">Medis: Redis GUI for macOS</h4>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Looking for a Redis GUI for macOS, Windows and Linux? Here&rsquo;s <a href="https://getmedis.com/">Medis</a>!</p>
<p>Medis is an open-sourced, beautiful, easy-to-use Redis GUI management application.</p>
<p>Medis starts with all the basic features you need:</p>
<ul>
<li>Keys viewing/editing</li>
<li>SSH Tunnel for connecting with remote servers</li>
<li>Terminal for executing custom commands</li>
<li>And other awesome features&hellip;</li>
</ul>
<p><a href="https://github.com/luin/medis">Medis 1 is open sourced on GitHub</a></p>
<h4 id="kuber-kubernetes-dashboard-for-ios">Kuber: Kubernetes Dashboard for iOS</h4>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h2 id="错误处理">错误处理</h2>
<p>All the errors returned by the Redis server are instances of <code>ReplyError</code>, which can be accessed via <code>Redis</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Redis</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;ioredis&#34;</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">redis</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Redis</span>();
<span style="color:#75715e">// This command causes a reply error since the SET command requires two arguments.
</span><span style="color:#75715e"></span><span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;foo&#34;</span>, (<span style="color:#a6e22e">err</span>) =&gt; {
  <span style="color:#a6e22e">err</span> <span style="color:#66d9ef">instanceof</span> <span style="color:#a6e22e">Redis</span>.<span style="color:#a6e22e">ReplyError</span>;
});
</code></pre></div><p>This is the error stack of the <code>ReplyError</code>:</p>
<pre tabindex="0"><code>ReplyError: ERR wrong number of arguments for 'set' command
    at ReplyParser._parseResult (/app/node_modules/ioredis/lib/parsers/javascript.js:60:14)
    at ReplyParser.execute (/app/node_modules/ioredis/lib/parsers/javascript.js:178:20)
    at Socket.&lt;anonymous&gt; (/app/node_modules/ioredis/lib/redis/event_handler.js:99:22)
    at Socket.emit (events.js:97:17)
    at readableAddChunk (_stream_readable.js:143:16)
    at Socket.Readable.push (_stream_readable.js:106:10)
    at TCP.onread (net.js:509:20)
</code></pre><p>By default, the error stack doesn&rsquo;t make any sense because the whole stack happens in the ioredis
module itself, not in your code. So it&rsquo;s not easy to find out where the error happens in your code.
ioredis provides an option <code>showFriendlyErrorStack</code> to solve the problem. When you enable
<code>showFriendlyErrorStack</code>, ioredis will optimize the error stack for you:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Redis</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;ioredis&#34;</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">redis</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Redis</span>({ <span style="color:#a6e22e">showFriendlyErrorStack</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> });
<span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;foo&#34;</span>);
</code></pre></div><p>And the output will be:</p>
<pre tabindex="0"><code>ReplyError: ERR wrong number of arguments for 'set' command
    at Object.&lt;anonymous&gt; (/app/index.js:3:7)
    at Module._compile (module.js:446:26)
    at Object.Module._extensions..js (module.js:464:10)
    at Module.load (module.js:341:32)
    at Function.Module._load (module.js:296:12)
    at Function.Module.runMain (module.js:487:10)
    at startup (node.js:111:16)
    at node.js:799:3
</code></pre><p>This time the stack tells you that the error happens on the third line in your code. Pretty sweet!
However, it would decrease the performance significantly to optimize the error stack. So by
default, this option is disabled and can only be used for debugging purposes. You <strong>shouldn&rsquo;t</strong> use this feature in a production environment.</p>
<h2 id="插入你自己的承诺库">插入你自己的承诺库</h2>
<p>If you&rsquo;re an advanced user, you may want to plug in your own promise library like <a href="https://www.npmjs.com/package/bluebird">bluebird</a>. Just set Redis.Promise to your favorite ES6-style promise constructor and ioredis will use it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Redis</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;ioredis&#34;</span>);
<span style="color:#a6e22e">Redis</span>.Promise <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;bluebird&#34;</span>);

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">redis</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Redis</span>();

<span style="color:#75715e">// Use bluebird
</span><span style="color:#75715e"></span><span style="color:#a6e22e">assert</span>.<span style="color:#a6e22e">equal</span>(<span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">get</span>().<span style="color:#a6e22e">constructor</span>, <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;bluebird&#34;</span>));

<span style="color:#75715e">// You can change the Promise implementation at any time:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Redis</span>.Promise <span style="color:#f92672">=</span> <span style="color:#a6e22e">global</span>.Promise;
<span style="color:#a6e22e">assert</span>.<span style="color:#a6e22e">equal</span>(<span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">get</span>().<span style="color:#a6e22e">constructor</span>, <span style="color:#a6e22e">global</span>.Promise);
</code></pre></div><h2 id="运行测试">运行测试</h2>
<p>Start a Redis server on 127.0.0.1:6379, and then:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ npm test
</code></pre></div><p><code>FLUSH ALL</code> will be invoked after each test, so make sure there&rsquo;s no valuable data in it before running tests.</p>
<p>If your testing environment does not let you spin up a Redis server <a href="https://github.com/stipsan/ioredis-mock">ioredis-mock</a> is a drop-in replacement you can use in your tests. It aims to behave identically to ioredis connected to a Redis server so that your integration tests is easier to write and of better quality.</p>
<h2 id="调试">调试</h2>
<p>You can set the <code>DEBUG</code> env to <code>ioredis:*</code> to print debug info:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ DEBUG<span style="color:#f92672">=</span>ioredis:* node app.js
</code></pre></div><h2 id="加入">加入!</h2>
<p>I&rsquo;m happy to receive bug reports, fixes, documentation enhancements, and any other improvements.</p>
<p>And since I&rsquo;m not a native English speaker, if you find any grammar mistakes in the documentation, please also let me know. :)</p>
<h2 id="成为一个赞助商">成为一个赞助商</h2>
<p>Open source is hard and time-consuming. If you want to invest in ioredis&rsquo;s future you can become a sponsor and make us spend more time on this library&rsquo;s improvements and new features.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Thank you for using ioredis :-)</p>
<h2 id="贡献者">贡献者</h2>
<p>这个项目的存在要感谢所有做出贡献的人:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="许可证">许可证</h2>
<p>MIT</p>
<p><a href="https://app.fossa.io/projects/git%2Bgithub.com%2Fluin%2Fioredis?ref=badge_large"><img src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Fluin%2Fioredis.svg?type=large" alt="FOSSA Status"></a></p>

        <div class="section-index">
    
    
    
    
    
    
    
    
    <hr class="panel-line">
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/quick-start/">快速入门</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/connection/">连接</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/tls/">TLS</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/streams/">流和二进制</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/lua/">Lua 脚本</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/pipelining/">Pipelining</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/pub-sub/">Pub/Sub</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/sentinel/">Sentinel</a>
                </h5>
                <p></p>
            </div>
        
            
            <div class="entry">
                <h5>
                    <a href="/docs/ioredis/cluster/">Cluster</a>
                </h5>
                <p></p>
            </div>
        
    
</div>

	
	
	
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
	
		<p class="mt-2"><a href="/docs/lua/about/">关于</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/js/main.min.5c6c35925cba6ccdfc94d3ef0a1ff539934a08075c0931f2c9ab70249877b310.js" integrity="sha256-XGw1kly6bM38lNPvCh/1OZNKCAdcCTHyyatwJJh3sxA=" crossorigin="anonymous"></script>




  </body>
</html>